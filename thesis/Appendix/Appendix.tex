% ***************************************************
% Appendix
% ***************************************************
\chapter{Appendix}

Write your appendix here. Following two are examples. 


\section{Neorv32 memory address space layout}
\label{app:mem_address}
\begin{figure}[h!]
    \centering
    \includegraphics[width=1\textwidth]{Images/neorv32_address_space.png}
    \caption{Neorv32 Memory Address space.}
\end{figure}



\section{FPGA primitives utilisation}
\label{app:res_usage}
\begin{table}
    \centering
    \caption{FPGA primitives utilisation for XC7A100T}
    \begin{tabular}{|l|r|l|}
        \toprule
        Ref Name   & Used & Functional Category \\
        \midrule
        LUT6       & 16262 & LUT \\
        LUT5       & 14820 & LUT \\
        FDRE       & 14500 & Flop \& Latch \\
        LUT3       & 13222 & LUT \\
        MUXF7      &  2436 & MuxFx \\
        FDCE       &  1875 & Flop \& Latch \\
        RAMD64E    &  1836 & Distributed Memory \\
        LUT4       &  1294 & LUT \\
        LUT2       &  1016 & LUT \\
        MUXF8      &   884 & MuxFx \\
        CARRY4     &   437 & CarryLogic \\
        LUT1       &   156 & LUT \\
        RAMB36E1   &   130 & Block Memory \\
        FDPE       &    41 & Flop \& Latch \\
        OBUF       &    40 & IO \\
        LDCE       &    36 & Flop \& Latch \\
        IBUF       &    24 & IO \\
        SRLC32E    &    21 & Distributed Memory \\
        OBUFT      &    11 & IO \\
        BUFG       &     8 & Clock \\
        FDSE       &     5 & Flop \& Latch \\
        DSP48E1    &     4 & Block Arithmetic \\
        SRL16E     &     1 & Distributed Memory \\
        MMCME2\_ADV &    1 & Clock \\
        \bottomrule
    \end{tabular}
\end{table}

\begin{table}
    \centering
    \caption{Memory Utilisation}
    \begin{tabular}{|l|r|r|r|r|r|}
        \toprule
        Site Type      & Used & Fixed & Prohibited & Available & Util\% \\
        \midrule
        Block RAM Tile &  130 &     0 &          0 &       135 & 96.30 \\
        RAMB36/FIFO*   &  130 &     0 &          0 &       135 & 96.30 \\
        RAMB36E1 only  &  130 &     - &          - &         - &    -  \\
        RAMB18         &    0 &     0 &          0 &       270 &  0.00 \\
        \bottomrule
    \end{tabular}
\end{table}

\begin{table}
    \centering
    \caption{Slice Logic Utilisation}
    \begin{tabular}{|l|r|r|r|r|r|}
        \toprule
        Site Type                 & Used & Fixed & Prohibited & Available & Util\% \\
        \midrule
        Slice LUTs*               & 40920 &     0 &          0 &     63400 & 64.54 \\
        LUT as Logic              & 39062 &     0 &          0 &     63400 & 61.61 \\
        LUT as Memory             &  1858 &     0 &          0 &     19000 &  9.78 \\
        LUT as Distributed RAM    &  1836 &     - &          - &         - &    -  \\
        LUT as Shift Register     &    22 &     - &          - &         - &    -  \\
        Slice Registers           & 16457 &     0 &          0 &    126800 & 12.98 \\
        Register as Flip Flop     & 16421 &     0 &          0 &    126800 & 12.95 \\
        Register as Latch         &    36 &     0 &          0 &    126800 &  0.03 \\
        F7 Muxes                  &  2436 &     0 &          0 &     31700 &  7.68 \\
        F8 Muxes                  &   884 &     0 &          0 &     15850 &  5.58 \\
        \bottomrule
    \end{tabular}
\end{table}


\section{Additional webpages built into the webserver.}
\label{app:additional_webpages}
\begin{figure}[h!]
    \centering
    \includegraphics[width=1\textwidth]{Images/webapp_about.png}
    \caption{Screenshot of the about page in the webapp.}
    \label{fig:web_app_about}
\end{figure}

\begin{figure}[h!]
    \centering
    \includegraphics[width=1\textwidth]{Images/webapp_config.png}
    \caption{Screenshot of the config page in the webapp.}
    \label{fig:web_app_config}
\end{figure}


\section{UDP ping times between boards}
\label{app:udp_ping_measurements}
\begin{table}[ht]
    \centering
    \caption{Average UDP RTT for different devices and payload sizes.}
    \begin{tabular}{lcc}
    \toprule
    Device & 8 bytes (ms) & 256 bytes (ms) \\
    \midrule
    WIZ5500 Pico & 1.88 & 2.07 \\
    F767ZI & 1.30 & 1.39 \\
    F767ZI 80Mhz & 1.41 & 1.51 \\
    MilkV & 1.04 & 1.09 \\
    FPGA board & 1.45 & 1.72 \\
    \bottomrule
    \end{tabular}
    \end{table}

\section{Current measurements from boards}
\label{app:current_measurements}

Table \ref{tab:power_consumption} shows the current measurments. Notably Diff1 is the difference between the Idle and No ETH fields while Diff2 is the difference between the Idle and Clean states.

\begin{table}[ht]
    \centering
    \caption{Device power consumption data (all values in mA)}
    \label{tab:power_consumption}
    \begin{tabular}{lccccccc}
    \toprule
    Device    & Idle  & Busy  & Average  & No ETH  & Clean  & Diff1  & Diff2 \\
    \midrule
    FPGA      & 301.4     & 300.13    & 300.765      & 264         & 202.13           & 37.4     & 99.27       \\
    MilkV     & 76.27     & 76.53     & 76.4         & 69.23       & 69.23            & 7.04     & 7.04       \\
    F767ZI    & 209.25    & 206.9     & 208.075      & 153.46      & 121.31           & 55.79    & 87.94       \\
    WIZ5500   & 155.88    & 158.67    & 157.275      & 97.9        & 80.35            & 57.98    & 75.53       \\
    \bottomrule
    \end{tabular}
\end{table}


\section{Thermal measurements for boards}
\label{app:thermal_measurements}
\begin{table}[ht]
    \centering
    \caption{Device measurements over time using FLIR One thermal camera, all measurements in degrees Celsius.}
    \label{tab:measurements}
    \begin{tabular}{lcccccc}
    \toprule
    Device & 5min & 10min & 30min & 1h & 2h \\
    \midrule
    FPGA & 38 & 38.2 & 38.9 & 39.1 & 40.4 \\
    MilkV & 36.7 & 39.8 & 35.5 & 39.1 & 38.1 \\
    F767ZI (STM) & 35.9 & 38.9 & 35.8 & 37.5 & 36.8 \\
    F767ZI (PHY) & 38 & 38.8 & 35.2 & 37.2 & 36.2 \\
    WIZ5500 (RP2040) & 46.6 & 53.1 & 54.6 & 54.5 & 53.2 \\
    WIZ5500 (PHY) & 58 & 59 & 58.4 & 58.5 & 56.8 \\
    \bottomrule
\end{tabular}
\end{table}


\section{Testing the firewall with 4 nodes.}
\label{app:testing_pf}

\subsection*{Node 1}
\begin{lstlisting}[style=consoleoutput]pi@node1:~/thesis-tools $ python3 test.py
pi@node1:~/thesis-tools $ python3 test.py
Testing from IP: 10.20.1.10
Ping to 10.20.1.34 took 0.522 ms
TCP (10.20.1.34, 1337) received response in 1.02ms: e5 07 00 00
UDP (10.20.1.34, 1337) received response from ('10.20.1.34', 1337) in 0.83ms: egasseM llaweriF yCSIR
UDP (10.20.1.34, 9999) received response from ('10.20.1.34', 9999) in 1.41ms: ok
Failed to retrieve content from http://10.20.1.34/
\end{lstlisting}

\subsection*{Node 2}
\begin{lstlisting}[style=consoleoutput]pi@node2:~/thesis-tools $ python3 test.py
pi@node2:~/thesis-tools $ python3 test.py
Testing from IP: 10.20.1.11
Ping to 10.20.1.34 took 1.12 ms
TCP: (10.20.1.34, 1337) Error occurred: timed out
UDP: (10.20.1.34, 1337) Error occurred: timed out
UDP (10.20.1.34, 9999) received response from ('10.20.1.34', 9999) in 1.08ms: ok
Failed to retrieve content from http://10.20.1.34/
\end{lstlisting}


\subsection*{Node 3}
\begin{lstlisting}[style=consoleoutput]pi@node2:~/thesis-tools $ python3 test.py
matt@Node3:~/thesis-tools$ python3 test.py
Testing from IP: 10.0.0.5
Ping to 10.20.1.34 took 0.979 ms
TCP: (10.20.1.34, 1337) Error occurred: timed out
UDP (10.20.1.34, 1337) received response from ('10.20.1.34', 1337) in 1.45ms: egasseM llaweriF yCSIR
UDP (10.20.1.34, 9999) received response from ('10.20.1.34', 9999) in 1.70ms: ok
HTTP received from http://10.20.1.34/:80 in 11.95ms
\end{lstlisting}



\subsection*{Node 4}
\begin{lstlisting}[style=consoleoutput]pi@node2:~/thesis-tools $ python3 test.py
matt@Node4:~/thesis-tools $ python3 test.py
Testing from IP: 10.0.0.93
Ping to 10.20.1.34 took 1.23 ms
TCP (10.20.1.34, 1337) received response in 1.11ms: e5 07 00 00
UDP: (10.20.1.34, 1337) Error occurred: timed out
UDP (10.20.1.34, 9999) received response from ('10.20.1.34', 9999) in 1.10ms: ok
Failed to retrieve content from http://10.20.1.34/
\end{lstlisting}



\section{Iperf 3 Test results}
\label{app:iperf3_test_results}

\begin{figure}[h!]
    \centering
    \includegraphics[width=1\textwidth]{Images/iperf3Test1M3.png}
    \caption{Nexys A7 and designed hardware Iperf3 test results.}
\end{figure}

\begin{figure}[h!]
    \centering
    \includegraphics[width=1\textwidth]{Images/iperf2TestNucleo.png}
    \caption{Nucleo-F767ZI Iperf3 test results.}
\end{figure}

\begin{figure}[h!]
    \centering
    \includegraphics[width=1\textwidth]{Images/iperf3TestMilkV.png}
    \caption{MilkV-duo Iperf3 test results.}
\end{figure}



\section{Eye Diagrams of PMOD port}
\label{app:eye_diagrams}

\begin{figure}[h]
    \centering
    \includegraphics[width=0.65\textwidth]{Images/EyeDiagramTX.png}
    \caption[Eye diagram of TXD through PMOD interface]{Eye diagram of TXD through PMOD interface.}
    \label{fig:eye_diagram}
\end{figure}
